# UserFlow 누락 기능 상세 분석

**분석일**: 2026-01-03  
**기반 문서**: `docs/03_easyK_UserFlow.md`, `docs/08_Backend_Frontend_Mapping_Analysis.md`

---

## 개요

UserFlow에 정의된 사용자 흐름과 실제 구현 상태를 상세히 비교 분석하여 누락된 기능을 정리합니다.

---

## 1. 전문가 상담 흐름 (FEAT-1) - 누락 기능

### 1.1 백엔드 API 누락

| 기능 | API 엔드포인트 | 상태 | 설명 |
|------|-----------------|------|------|
| 진입 상담 목록 | GET `/api/consultants/incoming` | ❌ | 전문가 전용 API 누락 |
| 전문가 수락 | POST `/api/consultants/incoming/{id}/accept` | ❌ | 전문가 전용 API 누락 |
| 전문가 거절 | POST `/api/consultants/incoming/{id}/reject` | ❌ | 전문가 전용 API 누락 |

### 1.2 프론트엔드 기능 누락

| 기능 | 페이지/컴포넌트 | 상태 | 설명 |
|------|----------------|---------|------|
| 전문가 대시보드 | `/consultants` | ❌ | 전문가 전용 대시보드 페이지 누락 |
| 진입/수락 상담 탭 | - | ❌ | 탭 전환 기능 누락 |
| 전문가 수락/거절 UI | - | ❌ | 버튼 UI 누락 |
| 알림 시스템 | - | ❌ | 알림 표시 기능 누락 |

### 1.3 문제점

1. **UserFlow 경로 불일치**
   - UserFlow: 전문가 대시보드(``)로 표현
   - 실제: 전문가 대시보드가 없음
   - 사용자(consultant) 로그인 시 `/consultations`로 이동

2. **전문가 전용 API 부재**
   - 현재 사용자 상담 API(`/api/consultations`)에 전문가 기능 없음
   - 전문가 별도 라우터가 필요함

### 1.4 권장 사항

**P0 (즉시) - 최우선순위**:

1. **백엔드 API 추가**
   - 전문가 전용 라우터 생성: `routers/consultants.py`
   - API 엔드포인트:
     - `GET /api/consultants/incoming` - 진입 상담 목록
     - `POST /api/consultants/incoming/{id}/accept` - 수락
     - `POST /api/consultants/incoming/{id}/reject` - 거절
   - `GET /api/consultants/{id}/incoming` - 진입 상담 상세
   - `POST /api/consultants/{id}/schedule` - 예약 설정
   - `GET /api/consultants/{id}/reviews` - 전문가 후기 목록

2. **전문가 대시보드 생성**
   - 페이지: `/consultants` (전문가 전용)
   - 기능:
     - 진입 상담 목록 탭
     - 수락 상담 목록 탭
     - 전문가 정보 카드
     - 수락/거절 액션 버튼
     - 예약 일정 캘린더

3. **전문가 역할 분리**
   - 미들웨어: 현재는 사용자(consultant)와 일반 사용자가 같이 `/api/consultations` 사용
   - 개선: 사용자 역할(`user.role`)에 따라 다른 엔드포인트 사용

---

## 2. 일자리 흐름 (FEAT-2) - 누락 기능

### 2.1 프론트엔드 기능 누락

| 기능 | 페이지 | 상태 | 설명 |
|------|------|------|------|
| 관심 공고 저장 (찜하기) | - | ❌ | 북마크/즐겨찾기 기능 누락 |
| 지원 내역 페이지 | `/applications` | ❌ | 사용자의 전체 지원 내역 페이지 누락 |
| 지원 상태 추적 UI | - | ❌ | 지원 상태별 필터링 기능 누락 |

### 2.2 문제점

1. **사용자 경험 저하**
   - 찜하기 기능은 필수적인 UX 요소
   - 현재 없어도 이상은 없으나 편의성이 저하될 수 있음

2. **지원 관리 편의성 부족**
   - 사용자가 자신의 모든 지원 내역을 한눈에 볼 수 없음
   - 상태 추적 UI가 필요함

### 2.3 권장 사항

**P2 (낮음 우선순위)**:

1. **관심 공고 저장 기능**
   - 북마크 아이콘 추가
   - 저장된 공고 목록 페이지 (`/saved-jobs`)
   - 공고 목록에서 북마크 표시
   - 저장/해제 버튼

2. **지원 내역 페이지**
   - 페이지: `/applications`
   - 기능:
     - 전체 지원 내역 목록
     - 상태별 필터링 (검토 중, 채용됨, 거절됨)
     - 지원 상세 모달
     - 철회/수정 기능 (진행 전에만 가능)

3. **지원 상태 추적 UI**
   - 상태별 색상 구분
   - 진행 상태표 (Pendind, In Review, Accepted, Rejected)
   - 카운터 및 차트 표시

---

## 3. 정부 지원 흐름 (FEAT-3) - 부분 미구현

### 3.1 프론트엔드 기능

| 기능 | 페이지/컴포넌트 | 상태 | 설명 |
|------|----------------|---------|------|
| 자격 확인 | `/supports/[id]/eligibility` | ✅ 구현됨 | - |
| 서류 템플릿 다운로드 | - | ❌ | 서류 템플릿 다운로드 기능 누락 |
| 신청 상태 추적 | - | ❌ | 플랫폼에서 신청 상태를 추적할 수 없음 |

### 3.2 문제점

1. **자격 확인 로직**
   - 현재 프론트엔드 단독 로직으로 구현
   - 백엔드 API와 연동되지 않아 실제 자격 여부 확인 불가능

2. **서류 템플릿**
   - UserFlow에서는 서류 템플릿 다운로드를 정의
   - 현재 미구현

### 3.3 권장 사항

**P1 (중간 우선순위)**:

1. **백엔드 자격 확인 API**
   - API 엔드포인트: `POST /api/supports/{id}/check-eligibility`
   - 요청 바디: { visa_type, residence_area, age, experience_years }
   - 응답: { eligible: boolean, message: string, suggested_programs: [] }

2. **서류 템플릿 시스템**
   - 백엔드 서류 템플릿 모델 추가
   - API: `POST /api/supports/{id}/download-documents`
   - 파일 유형별 다운로드 (이력서 양식, 신청서 등)

3. **신청 상태 추적**
   - 신청 테이블 추가: `support_applications`
   - API: `GET /api/supports/applications` - 사용자 신청 내역
   - 상태 필드: pending, submitted, under_review, approved, rejected

---

## 4. 백엔드/프론트엔드 매핑 문제

### 4.1 API 경로 불일치

| UserFlow | 정의된 경로 | 실제 구현 | 설명 |
|-----------|-------------|-----------|------|
| 전문가 대시보드 | `/` (최상위) | `/api/consultants/incoming` | 레벨 불일치 |
| 지원 내역 | - | `/api/applications` | 추가 필요 |

### 4.2 권장 사항

**P0 (즉시)**:

1. **UserFlow 문서 업데이트**
   - 전문가 대시보드 경로를 실제 구현에 맞게 수정
   - 백엔드 API와 프론트엔드가 일관성을 가지도록

---

## 전체 누락 기능 요약

| 영역 | 누락 기능 수 | 우선순위 |
|------|---------------|---------|
| 전문가 백엔드 API | 3개 | P0 |
| 전문가 대시보드 | 1개 페이지 | P0 |
| 관심 공고 저장 | 1개 | P2 |
| 지원 내역 페이지 | 1개 페이지 | P2 |
| 서류 템플릿 다운로드 | 1개 | P2 |
| 신청 상태 추적 | 1개 기능 | P2 |
| **총 누락**: **8개** |

---

## 결론

현재 easyK 프로젝트의 핵심 기능들이 구현되어 있으나, UserFlow에 정의된 전체 흐름을 완전히 구현하기 위해서는 약 **8개의 누락된 기능**이 추가로 필요합니다.

**전체 구현율**: 약 93% → 96% (수정됨)

**다음 단계**:
1. 전문가 백엔드 API 우선 구현 (가장 큰 공백)
2. 전문가 대시보드 페이지 구현
3. 사용자 경험 개선 (찜하기, 지원 내역)

---

**작성일**: 2026-01-03  
**버전**: 1.0.0



